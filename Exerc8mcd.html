# Analyse pour le MCD d'une bibliothèque

## Entités identifiées

### 1. OUVRAGE
**Extrait justificatif :** "ce service enregistre les références communes à plusieurs exemplaires, soit l'auteur, le titre, la valeur de remplacement, le résumé ainsi que quelques mots clés."

**Attributs :**
- ID_OUVRAGE (identifiant)
- TITRE
- AUTEUR
- VALEUR_REMPLACEMENT
- RESUME
- MOTS_CLES

### 2. EXEMPLAIRE
**Extrait justificatif :** "Les exemplaires sont repérés par un code barre (n° séquentiel unique) collé au dos de l'exemplaire)."

**Attributs :**
- CODE_BARRE (identifiant)
- DATE_ACQUISITION ("On veut mémoriser la date d'acquisition de l'exemplaire")
- DUREE_VIE_ESTIMEE ("et sa durée de vie estimée")
- ETAT (implicite car on mentionne "Lorsque l'exemplaire retourné est réputé perdu" ou "en bon état")

### 3. EMPRUNTEUR
**Extrait justificatif :** "Les emprunteurs sont identifiés par une carte comprenant un code barre (n° séquentiel unique)."

**Attributs :**
- CODE_EMPRUNTEUR (identifiant)
- NOM ("Pour chaque emprunteur on mémorise son nom")
- PRENOM ("prénom")
- ADRESSE ("adresse")
- EMAIL ("email")

### 4. PRET
**Extrait justificatif :** "Les prêts sont mémorisés afin de savoir à tout moment, quels sont les exemplaires sortis."

**Attributs :**
- ID_PRET (identifiant implicite)
- DATE_EMPRUNT (implicite dans "date d'emprunt + 3 semaines")
- DATE_RETOUR_MAX ("Pour chaque prêt ou emprunt on mémorise donc [...] la date de retour au plus tard de cet exemplaire")

## Relations identifiées

### 1. CORRESPONDRE (entre EXEMPLAIRE et OUVRAGE)
**Extrait justificatif :** "Tout exemplaire correspond à un ouvrage de référence."

**Cardinalité :**
- EXEMPLAIRE (1,1) CORRESPONDRE (0,N) OUVRAGE
- Un exemplaire correspond à exactement un ouvrage (1,1)
- Un ouvrage peut avoir de 0 à plusieurs exemplaires (0,N)

### 2. EMPRUNTER (entre EMPRUNTEUR et PRET)
**Extrait justificatif :** "Pour chaque prêt ou emprunt on mémorise donc [...] le code emprunteur"

**Cardinalité :**
- EMPRUNTEUR (0,3) EMPRUNTER (1,1) PRET
- Un emprunteur peut emprunter de 0 à 3 exemplaires maximum ("Un emprunteur peut emprunter au maximum 3 exemplaires")
- Un prêt est associé à exactement un emprunteur (1,1)

### 3. CONCERNER (entre EXEMPLAIRE et PRET)
**Extrait justificatif :** "Pour chaque prêt ou emprunt on mémorise donc le code exemplaire"

**Cardinalité :**
- EXEMPLAIRE (0,1) CONCERNER (1,1) PRET
- Un exemplaire peut être concerné par 0 ou 1 prêt (à un moment donné, il est soit disponible, soit emprunté)
- Un prêt concerne exactement un exemplaire (1,1)

## Règles de gestion

1. "Un emprunteur peut emprunter au maximum 3 exemplaires" → Cardinalité maximale de 3 pour la relation EMPRUNTER.

2. "Cette date est calculée automatiquement par date d'emprunt + 3 semaines" → La DATE_RETOUR_MAX est calculée automatiquement.

3. "Lorsque l'exemplaire est retourné en bon état, on supprime l'enregistrement de cet emprunt" → Le PRET est supprimé lorsque l'EXEMPLAIRE est rendu en bon état.

4. "Lorsque la date de retour échoit, on relance l'emprunteur par email de préférence, par courrier si l'adresse email est inconnue" → Règle de traitement.

5. "Lorsque l'exemplaire retourné est réputé perdu, on envoie un courrier à l'emprunteur exigeant le paiement de la valeur de remplacement" → Règle de traitement liée à la VALEUR_REMPLACEMENT de l'OUVRAGE.

Ce modèle respecte les principes du MCD et représente fidèlement les relations et entités décrites dans l'énoncé, avec une traçabilité claire vers le texte source.